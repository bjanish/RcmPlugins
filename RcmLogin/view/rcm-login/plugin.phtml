<?php
/**
 * Visitor-facing plugin template
 *
 * Visitor-facing plugin template
 *
 * PHP version 5.3
 *
 * LICENSE: No License yet
 *
 * @category  Reliv
 * @package   RcmPlugins\Navigation
 * @author    Rod McNew <rmcnew@relivinc.com>
 * @copyright 2012 Reliv International
 * @license   License.txt New BSD License
 * @version   GIT: <git_id>
 * @link      http://ci.reliv.com/confluence
 */

$this->headLink()->appendStylesheet(
    $this->basePath() . '/modules/rcm-login/style.css'
);

$this->headScript()->appendFile(
    $this->basePath() . '/modules/rcm-login/rcm-login-box.js',
    'text/javascript'
);
echo $this->rcmJsLoginManager();
?>
<script type="text/javascript">
    new RcmLoginBox('<?php echo $this->sessionId; ?>');
</script>


<div class="rcmLogin">


    <form method="post" action="" id="rcmLoginBoxLoginForm">
        <h1 data-textEdit="loginHeader">
            <?php echo $this->ic['loginHeader']; ?>
        </h1>

        <div class="error" id="rcmLoginBoxInvalidError"><?php echo $this->ic['loginErrorInvalidCopy']; ?></div>
        <div class="error" id="rcmLoginBoxMissingError"><?php echo $this->ic['loginErrorMissingCopy']; ?></div>
        <div class="error" id="rcmLoginBoxSystemError"><?php echo $this->ic['loginErrorSystemCopy']; ?></div>
        <div class="error" id="rcmLoginBoxNoAuthError"><?php echo $this->ic['loginErrorAuthCopy']; ?></div>

        <div data-textEdit="loginErrorInvalidCopy" class="loginError"
             align="center" <?php if (empty($this->rcmLoginError)): ?>style="display: none;"  <?php endif; ?> >
            <?php echo $this->ic['loginErrorInvalidCopy']; ?>
        </div>
        <p>
                <div data-textEdit="userNameCopy">
                    <?php echo $this->ic['userNameCopy']; ?>
                </div>
            <input autofocus type="text" value="" name="userName" id="rcmLoginBoxUserName">
        </p>

        <p>
            <div data-textEdit="loginPasswordCopy">
                <?php echo $this->ic['loginPasswordCopy']; ?>
            </div>
            <input type="password" value="" name="loginPass" id="rcmLoginBoxPassword">
        </p>
        <br />
        <div>
            <a href="#" id="rcmLoginBoxLoginSubmit" >
                <button data-textEdit="loginSubmitCopy">
                    <?php echo $this->ic['loginSubmitCopy']; ?>
                </button>
            </a>
            <a href="#" id="rcmLoginBoxProcessingMsgContainer" style="min-width: 100px; display: none;">
                <button id="rcmLoginBoxProcessingMessage">
                    <span data-textEdit="loginSubmitCopy">
                        <?php echo $this->ic['loginProcessingCopy']; ?>
                        </span>
                    <img src="/modules/rcm/images/busy-spinner-16x16.gif" width="16" height="16" />
                </button>
            </a>
        </div>
        <p>&nbsp;</p>
        <p data-textEdit="loginForgotPasswordCopy">
            <?php echo $this->ic['loginForgotPasswordCopy']; ?>
        </p>

        <div style="position: absolute; left: -999999px;">
            <input type="submit" value="" name="submitButton"/>
        </div>
        <p>&nbsp;</p>

        <div data-richedit="bottomLoginText">
            <?php echo $this->ic['bottomLoginText']; ?>
        </div>
    </form>
    <div style="clear:both;"></div>
</div>