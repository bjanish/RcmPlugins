<?php


$this->headScript()->appendFile(
    $this->basePath()
    . '/modules/rcm-brightcove-player/rcm-brightcove-api-service.js',
    'text/javascript'
);

$this->headScript()->appendFile(
    'https://sadmin.brightcove.com/js/BrightcoveExperiences.js',
    'text/javascript'
);

$this->headScript()->appendFile(
    $this->basePath()
    . '/modules/rcm-brightcove-player/rcm-brightcove-player.js',
    'text/javascript'
);

$this->headScript()->appendFile(
    $this->basePath()
    . '/modules/rcm-brightcove-player/keep-aspect-ratio.js',
    'text/javascript'
);

$this->headLink()->appendStylesheet(
    $this->basePath() . '/modules/rcm-brightcove-player/style.css'
);
?>
<!-- <RcmBrightcovePlayer> -->
<div>
    <script>
        RcmBrightcoveApiService.bgReadToken = '<?= $config['rcmPlugin']['RcmBrightcovePlayer']['readToken']; ?>';
        RcmBrightcoveApiService.bgUrlToken = '<?= $config['rcmPlugin']['RcmBrightcovePlayer']['urlToken']; ?>';
        RcmBrightcovePlayerService.instantiatePlayerController(<?= htmlentities($instanceId)?>, <?=json_encode($instanceConfig)?>);
    </script>
    <?php

    if (($instanceConfig['type']) == 'single-embed') {
        require('single_player.phtml');
    } elseif (($instanceConfig['type']) == 'multi-embed') {
        require('multi-player.phtml');
    }
    // @todo this should only be loaded as needed

    require('plugin-edit.phtml');

    ?>
</div>
<!-- <RcmBrightcovePlayer> -->





