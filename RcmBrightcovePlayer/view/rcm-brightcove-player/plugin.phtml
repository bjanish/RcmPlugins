<?php

$this->headScript()->appendFile(
    $this->basePath() . '/modules/rcm-brightcove-player/rcm-brightcove-player.js',
    'text/javascript'
);

$this->headScript()->appendFile(
    $this->basePath() . '/modules/rcm-brightcove-player/rcm-brightcove-functions.js',
    'text/javascript'
);

$this->headScript()->appendFile(
    $this->basePath() . '/modules/rcm-brightcove-player/player.js',
    'text/javascript'
);

$this->headLink()->appendStylesheet(
    $this->basePath() . '/modules/rcm-brightcove-player/style.css'
);

//$this->headLink()->appendStylesheet(
//    '//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css'
//)

?>
<script src="/modules/rcm-brightcove-player/multiselect.js"></script>

<?php

if (($ic['type']) == 'single-embed') {
    require('single_player.phtml');
} elseif (($ic['type']) == 'multi-embed') {
    require('multi-player.phtml');
}
?>
<div style="display:none">
    <div ng-controller="PlayerEditCtrl" style="height:700px;"
         ng-init="init(<?php echo str_replace('"', "'", json_encode($ic)); ?>)">
        <form style="display:none" title="Brightcove Player Editor" novalidate>

            <div>
                <div ng-show="true">
                    <select
                        name="selection"
                        ng-model="selectedItem"
                        ng-init="selectedItem = selectedItem || items[0]"
                        data-selection="{{selectedItem.id}}"
                        ng-options="item as item.name for item in items">
                    </select>


                </div>
                <div class="selection" ng-show="selectedItem.id == 'single-embed'">

                    <br>Choose video:<br>
                    <select
                        name="video"
                        ng-model="selectedVideos"
                        ng-options="video.name for video in videos">
                    </select>

                    <br>

                    <div class="singleVideo" style="display:none;">{{selectedVideos.id}}</div>
                    <br>
                    <img src="{{selectedVideos.thumbnailURL}}"/>
                    <br>
                </div>
                <div class="selection" ng-show="selectedItem.id == 'multi-embed'">
                    <br>Choose Playlist:<br>
                    <!--                <multiselect-->
                    <!---->
                    <!--                    class="input-lg"-->
                    <!--                    multiple="true"-->
                    <!--                    ng-model="selectedPlaylists"-->
                    <!--                    options="playlist.name for playlist in playlists"-->
                    <!---->
                    <!--                    change="selected()"-->
                    <!---->
                    <!--                    >-->
                    <!--                </multiselect>-->
                    <div>
                        <!--                    <ul class="playlist-list">-->
                        <!--                        <li ng-repeat="playlist in selectedPlaylists" data-first-video="{{playlist.videoIds.0}}"-->
                        <!--                            data-id="{{playlist.id}}">{{playlist.name}}-->
                        <!--                        </li>-->
                        <!---->
                        <!--                    </ul>-->

                            <ul id="sortable1"
                                class="connectedSortable"
                                >
                                <li
                                    class="ui-state-default"
                                    ng-repeat="playlist in unselectedPlaylist"
                                    data-first-video="{{playlist.videoIds.0}}"
                                    data-id="{{playlist.id}}"
                                    >
                                    {{playlist.name}}

                                </li>
                            </ul>
                            <ul
                                id="sortable2"
                                class="connectedSortable playlist-list">
                                <li
                                    class="ui-state-highlight"
                                    ng-repeat="playlist in selectedPlaylist"
                                    data-first-video="{{playlist.videoIds.0}}"
                                    data-id="{{playlist.id}}"

                                    >
                                    {{playlist.name}}
                                </li>

                            </ul>

                    </div>

                    <!--                                    <select-->
                    <!--                                        name=" playlist -->

                    <!--                        data-value="{{selectedPlaylists.id}}"-->
                    <!--                        video-ids="{{selectedPlaylists.videoIds.0}}"-->
                    <!--                        ng-options="playlist.name for playlist in playlists"-->
                    <!--                        ng-model="selectedPlaylists"-->
                    <!--                        >-->
                    <!--                    </select>-->
                    <br>
                    <!--                    {{selectedPlaylists.id}}-->
                </div>
                <br>
            </div>
            <div style="clear:both;"></div>
        </form>
    </div>
</div>




